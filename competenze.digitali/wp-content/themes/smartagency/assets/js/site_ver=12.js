function throttle(o,r,i){var a,l;return r=r||250,function(){var e=i||this,t=+new Date,n=arguments;a&&t<a+r?(clearTimeout(l),l=setTimeout(function(){a=t,o.apply(e,n)},r)):(a=t,o.apply(e,n))}}var rel_menu=document.getElementById("masthead"),menuHeight=rel_menu.offsetHeight,prevScrollpos=window.pageYOffset,menuHideOnScrollDown=throttle(function(){var e=window.pageYOffset;rel_menu.style.top=e<200||e<prevScrollpos?"0":"-"+menuHeight+"px",prevScrollpos=e},500),checkTop=(window.addEventListener("scroll",menuHideOnScrollDown),throttle(function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,t=document.querySelector("body");e?t.classList.add("scrolled"):t.classList.remove("scrolled")},150));function linkBlocks(){Array.prototype.forEach.call(document.querySelectorAll(".link-block"),function(e){var t=e.querySelector("a"),n;!t||(n=t.getAttribute("href"))&&e.addEventListener("click",function(){location.href=n})})}function getRequest(e,t,n,o,r){var i=!1;try{i=new XMLHttpRequest}catch(e){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}}return!!i&&("function"!=typeof o&&(o=function(){}),"function"!=typeof r&&(r=function(){}),i.onreadystatechange=function(){if(4==i.readyState)return 200===i.status?o(i.responseText):r(i.status)},i.open(t,e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(n),i)}checkTop(),window.addEventListener("scroll",checkTop),jQuery(function(){jQuery('[data-toggle="tooltip"]').tooltip()}),jQuery(function(){jQuery("[data-toggle=popover]").popover()}),jQuery(".lettering").each(function(){jQuery(this).html(jQuery(this).text().replace(/([^\x00-\x80]|\w)/g,"<span class='letter load-hidden'>$&</span>"))}),ScrollReveal().reveal(".scroll-fade"),ScrollReveal().reveal(".letters-animation .letter",{interval:30,distance:"500px"}),ScrollReveal().reveal(".services-header",{beforeReveal:function(){jQuery(".services-header").addClass("block-reveal")}}),jQuery(".tile").on("mouseover",function(){jQuery(this).children(".photo").css({transform:"scale("+jQuery(this).attr("data-scale")+")"})}).on("mouseout",function(){jQuery(this).children(".photo").css({transform:"scale(1)"})}).on("mousemove",function(e){jQuery(this).children(".photo").css({"transform-origin":(e.pageX-jQuery(this).offset().left)/jQuery(this).width()*100+"% "+(e.pageY-jQuery(this).offset().top)/jQuery(this).height()*100+"%"})}).each(function(){jQuery(this).append('<div class="photo"></div>').children(".photo").css({"background-image":"url("+jQuery(this).attr("data-image")+")"})}),linkBlocks(),jQuery(document).ready(function(e){Modernizr.touch&&(jQuery(".navbar-nav li.dropdown > a").click(function(e){jQuery(this).closest(".navbar-nav li.dropdown").hasClass("show")||(e.preventDefault(),jQuery(this).closest(".navbar-nav li.dropdown").addClass("show"))}),jQuery("body").click(function(e){jQuery(e.target).is(".navbar-nav li.dropdown > a")||jQuery(".navbar-nav li.dropdown").removeClass("show")}));var t=document.getElementById("scene"),n,t=(null!==t&&(n=new Parallax(t)),document.getElementById("scene2")),o;function r(e){var t,n;return window.innerWidth<=768?window.open(e,"_blank"):(n=(t=.66*window.innerWidth)*window.innerHeight/window.innerWidth,window.open(e,"newwindow","width="+t+", height="+n+", top="+(window.innerHeight-n)/2+", left="+(window.innerWidth-t)/2)),!1}null!==t&&(o=new Parallax(t)),jQuery(".owl-carousel").owlCarousel({loop:!0,nav:!0,smartSpeed:700,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,dragBeforeAnimFinish:!1,responsive:{0:{items:1},768:{items:2},992:{items:3}}}),jQuery('a[target^="_new"]').click(function(e){return r(this.href)}),jQuery(".wpml-ls-item a").removeAttr("title")});